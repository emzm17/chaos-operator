apiVersion: chaos.chaos.example.com/v1alpha1
kind: ChaosExperiment
metadata:
  labels:
    app.kubernetes.io/name: chaos-operator
    app.kubernetes.io/managed-by: kustomize
  name: chaosexperiment-memory-stress-sample
spec:
  # Type of chaos to inject
  type: memory-stress
  
  # Target pods with this label selector
  selector:
    app: nginx
    
  
  # Namespace to target (optional, defaults to same namespace as ChaosExperiment)
  targetNamespace: chaos
  
  # Percentage of pods to affect (1-100)
  percentage: 50
  
  # Total duration of the experiment
  duration: "1m"
  
  # Memory stress configuration
  memoryStress:
    # Amount of memory to consume (e.g., 256M, 512M, 1G)
    memory: "4G"
    
    # Number of workers to spawn (defaults to 1)
    workers: 2
  
  # Optional: Run chaos continuously at intervals
  # interval: "30s"  # Uncomment to apply memory stress every 30 seconds


